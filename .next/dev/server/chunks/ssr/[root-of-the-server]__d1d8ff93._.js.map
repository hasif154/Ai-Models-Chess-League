{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///D:/d%20drive%20downloads/Coding/Ai%20chess/components/ApiKeyEntry.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\n\r\ninterface ApiKeyEntryProps {\r\n    onSubmit: (keys: { groq: string; openrouter: string }) => void;\r\n}\r\n\r\nexport default function ApiKeyEntry({ onSubmit }: ApiKeyEntryProps) {\r\n    const [groq, setGroq] = useState(\"\");\r\n    const [openrouter, setOpenrouter] = useState(\"\");\r\n\r\n    const handleSubmit = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (groq) {\r\n            onSubmit({ groq, openrouter });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex flex-col items-center justify-center min-h-screen p-4\">\r\n            <div className=\"w-full max-w-md space-y-8 text-center\">\r\n                <h1 className=\"text-4xl font-bold tracking-tighter text-white uppercase italic\">\r\n                    AI Chess League\r\n                </h1>\r\n                <p className=\"text-zinc-500\">Enter your API keys to run the match</p>\r\n\r\n                <form onSubmit={handleSubmit} className=\"space-y-6 mt-8\">\r\n                    <div className=\"space-y-2 text-left\">\r\n                        <label className=\"text-sm font-medium text-zinc-400 uppercase tracking-widest\">\r\n                            Groq API Key (required)\r\n                        </label>\r\n                        <input\r\n                            type=\"password\"\r\n                            value={groq}\r\n                            onChange={(e) => setGroq(e.target.value)}\r\n                            className=\"w-full bg-zinc-900 border border-zinc-800 rounded-none p-4 text-white focus:outline-none focus:border-white transition-colors\"\r\n                            placeholder=\"gsk_...\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2 text-left\">\r\n                        <label className=\"text-sm font-medium text-zinc-400 uppercase tracking-widest\">\r\n                            OpenRouter API Key (optional)\r\n                        </label>\r\n                        <input\r\n                            type=\"password\"\r\n                            value={openrouter}\r\n                            onChange={(e) => setOpenrouter(e.target.value)}\r\n                            className=\"w-full bg-zinc-900 border border-zinc-800 rounded-none p-4 text-white focus:outline-none focus:border-white transition-colors\"\r\n                            placeholder=\"sk-or-v1-...\"\r\n                        />\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        className=\"w-full bg-white text-black font-bold py-4 uppercase tracking-widest hover:bg-zinc-200 transition-colors\"\r\n                    >\r\n                        Continue\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAQe,SAAS,YAAY,EAAE,QAAQ,EAAoB;IAC9D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,8NAAQ,EAAC;IACjC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,8NAAQ,EAAC;IAE7C,MAAM,eAAe,CAAC;QAClB,EAAE,cAAc;QAChB,IAAI,MAAM;YACN,SAAS;gBAAE;gBAAM;YAAW;QAChC;IACJ;IAEA,qBACI,2PAAC;QAAI,WAAU;kBACX,cAAA,2PAAC;YAAI,WAAU;;8BACX,2PAAC;oBAAG,WAAU;8BAAkE;;;;;;8BAGhF,2PAAC;oBAAE,WAAU;8BAAgB;;;;;;8BAE7B,2PAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACpC,2PAAC;4BAAI,WAAU;;8CACX,2PAAC;oCAAM,WAAU;8CAA8D;;;;;;8CAG/E,2PAAC;oCACG,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;oCACvC,WAAU;oCACV,aAAY;oCACZ,QAAQ;;;;;;;;;;;;sCAIhB,2PAAC;4BAAI,WAAU;;8CACX,2PAAC;oCAAM,WAAU;8CAA8D;;;;;;8CAG/E,2PAAC;oCACG,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;oCAC7C,WAAU;oCACV,aAAY;;;;;;;;;;;;sCAIpB,2PAAC;4BACG,MAAK;4BACL,WAAU;sCACb;;;;;;;;;;;;;;;;;;;;;;;AAOrB"}},
    {"offset": {"line": 144, "column": 0}, "map": {"version":3,"sources":["file:///D:/d%20drive%20downloads/Coding/Ai%20chess/components/ModelSelection.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\n\r\ninterface ModelSelectionProps {\r\n    apiKeys: { groq: string; openrouter: string };\r\n    onSubmit: (model1: string, model2: string) => void;\r\n}\r\n\r\nconst GROQ_MODELS = [\r\n    { id: \"llama-3.3-70b-versatile\", name: \"Llama 3.3 70B (Groq)\" },\r\n    { id: \"llama-3.1-8b-instant\", name: \"Llama 3.1 8B (Groq)\" },\r\n    { id: \"mixtral-8x7b-32768\", name: \"Mixtral 8x7B (Groq)\" },\r\n];\r\n\r\nconst OPENROUTER_MODELS = [\r\n    { id: \"google/gemini-2.0-flash-exp:free\", name: \"Gemini 2.0 Flash (Free)\" },\r\n    { id: \"anthropic/claude-3.5-sonnet\", name: \"Claude 3.5 Sonnet\" },\r\n    { id: \"openai/gpt-4o\", name: \"GPT-4o\" },\r\n];\r\n\r\nexport default function ModelSelection({ apiKeys, onSubmit }: ModelSelectionProps) {\r\n    const availableModels = [...GROQ_MODELS];\r\n    if (apiKeys.openrouter) {\r\n        availableModels.push(...OPENROUTER_MODELS);\r\n    }\r\n\r\n    const [model1, setModel1] = useState(availableModels[0].id);\r\n    const [model2, setModel2] = useState(availableModels[1]?.id || availableModels[0].id);\r\n\r\n    const handleSubmit = () => {\r\n        onSubmit(model1, model2);\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex flex-col items-center justify-center min-h-screen p-4\">\r\n            <div className=\"w-full max-w-4xl space-y-12 text-center\">\r\n                <div className=\"space-y-2\">\r\n                    <h1 className=\"text-4xl font-bold tracking-tighter text-white uppercase italic\">\r\n                        AI CHESS LEAGUE\r\n                    </h1>\r\n                    <p className=\"text-zinc-500 uppercase tracking-widest text-sm\">Choose AI model</p>\r\n                </div>\r\n\r\n                <div className=\"flex flex-col md:flex-row items-center justify-between gap-8 md:gap-12\">\r\n                    <div className=\"flex-1 w-full space-y-4\">\r\n                        <label className=\"block text-xs text-zinc-500 uppercase tracking-widest text-left\">\r\n                            AI Model 1 (White)\r\n                        </label>\r\n                        <select\r\n                            value={model1}\r\n                            onChange={(e) => setModel1(e.target.value)}\r\n                            className=\"w-full bg-zinc-900 border border-zinc-800 rounded-none p-6 text-white text-lg focus:outline-none focus:border-white appearance-none cursor-pointer\"\r\n                        >\r\n                            {availableModels.map((m) => (\r\n                                <option key={m.id} value={m.id}>\r\n                                    {m.name}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"text-4xl font-bold italic text-zinc-800 hidden md:block\">VS</div>\r\n\r\n                    <div className=\"flex-1 w-full space-y-4\">\r\n                        <label className=\"block text-xs text-zinc-500 uppercase tracking-widest text-left\">\r\n                            AI Model 2 (Black)\r\n                        </label>\r\n                        <select\r\n                            value={model2}\r\n                            onChange={(e) => setModel2(e.target.value)}\r\n                            className=\"w-full bg-zinc-900 border border-zinc-800 rounded-none p-6 text-white text-lg focus:outline-none focus:border-white appearance-none cursor-pointer\"\r\n                        >\r\n                            {availableModels.map((m) => (\r\n                                <option key={m.id} value={m.id}>\r\n                                    {m.name}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n\r\n                <button\r\n                    onClick={handleSubmit}\r\n                    className=\"mt-12 px-12 py-4 bg-white text-black font-bold uppercase tracking-widest hover:bg-zinc-200 transition-colors\"\r\n                >\r\n                    Start Match\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AASA,MAAM,cAAc;IAChB;QAAE,IAAI;QAA2B,MAAM;IAAuB;IAC9D;QAAE,IAAI;QAAwB,MAAM;IAAsB;IAC1D;QAAE,IAAI;QAAsB,MAAM;IAAsB;CAC3D;AAED,MAAM,oBAAoB;IACtB;QAAE,IAAI;QAAoC,MAAM;IAA0B;IAC1E;QAAE,IAAI;QAA+B,MAAM;IAAoB;IAC/D;QAAE,IAAI;QAAiB,MAAM;IAAS;CACzC;AAEc,SAAS,eAAe,EAAE,OAAO,EAAE,QAAQ,EAAuB;IAC7E,MAAM,kBAAkB;WAAI;KAAY;IACxC,IAAI,QAAQ,UAAU,EAAE;QACpB,gBAAgB,IAAI,IAAI;IAC5B;IAEA,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,8NAAQ,EAAC,eAAe,CAAC,EAAE,CAAC,EAAE;IAC1D,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,8NAAQ,EAAC,eAAe,CAAC,EAAE,EAAE,MAAM,eAAe,CAAC,EAAE,CAAC,EAAE;IAEpF,MAAM,eAAe;QACjB,SAAS,QAAQ;IACrB;IAEA,qBACI,2PAAC;QAAI,WAAU;kBACX,cAAA,2PAAC;YAAI,WAAU;;8BACX,2PAAC;oBAAI,WAAU;;sCACX,2PAAC;4BAAG,WAAU;sCAAkE;;;;;;sCAGhF,2PAAC;4BAAE,WAAU;sCAAkD;;;;;;;;;;;;8BAGnE,2PAAC;oBAAI,WAAU;;sCACX,2PAAC;4BAAI,WAAU;;8CACX,2PAAC;oCAAM,WAAU;8CAAkE;;;;;;8CAGnF,2PAAC;oCACG,OAAO;oCACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;oCACzC,WAAU;8CAET,gBAAgB,GAAG,CAAC,CAAC,kBAClB,2PAAC;4CAAkB,OAAO,EAAE,EAAE;sDACzB,EAAE,IAAI;2CADE,EAAE,EAAE;;;;;;;;;;;;;;;;sCAO7B,2PAAC;4BAAI,WAAU;sCAA0D;;;;;;sCAEzE,2PAAC;4BAAI,WAAU;;8CACX,2PAAC;oCAAM,WAAU;8CAAkE;;;;;;8CAGnF,2PAAC;oCACG,OAAO;oCACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;oCACzC,WAAU;8CAET,gBAAgB,GAAG,CAAC,CAAC,kBAClB,2PAAC;4CAAkB,OAAO,EAAE,EAAE;sDACzB,EAAE,IAAI;2CADE,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;;8BAQjC,2PAAC;oBACG,SAAS;oBACT,WAAU;8BACb;;;;;;;;;;;;;;;;;AAMjB"}},
    {"offset": {"line": 339, "column": 0}, "map": {"version":3,"sources":["file:///D:/d%20drive%20downloads/Coding/Ai%20chess/components/chess/Scene3d.tsx"],"sourcesContent":["\"use client\";\r\n/// <reference types=\"@react-three/fiber\" />\r\n\r\nimport { Canvas, useFrame } from \"@react-three/fiber\";\r\nimport { OrbitControls, PerspectiveCamera, ContactShadows, Environment, Float } from \"@react-three/drei\";\r\nimport { useState, useMemo, useRef, useEffect } from \"react\";\r\nimport * as THREE from \"three\";\r\nimport { Chess, Square } from \"chess.js\";\r\n\r\ninterface Scene3dProps {\r\n    fen: string;\r\n    lastMove?: string;\r\n}\r\n\r\nconst SQUARE_SIZE = 1;\r\nconst BOARD_SIZE = 8;\r\n\r\nexport default function Scene3d({ fen, lastMove }: Scene3dProps) {\r\n    const board = useMemo(() => {\r\n        const c = new Chess(fen);\r\n        return c.board();\r\n    }, [fen]);\r\n\r\n    return (\r\n        <div className=\"w-full h-full\">\r\n            <Canvas shadows dpr={[1, 2]}>\r\n                <PerspectiveCamera makeDefault position={[0, 8, 8]} fov={45} />\r\n                <OrbitControls\r\n                    enablePan={false}\r\n                    maxPolarAngle={Math.PI / 2.1}\r\n                    minDistance={8}\r\n                    maxDistance={15}\r\n                    autoRotate={false}\r\n                />\r\n\r\n                <color attach=\"background\" args={[\"#050505\"]} />\r\n                <fog attach=\"fog\" args={[\"#050505\", 10, 20]} />\r\n\r\n                <ambientLight intensity={0.2} />\r\n                <spotLight\r\n                    position={[10, 15, 10]}\r\n                    angle={0.3}\r\n                    penumbra={1}\r\n                    intensity={200}\r\n                    castShadow\r\n                    shadow-mapSize={[1024, 1024]}\r\n                />\r\n                <pointLight position={[-10, 5, -10]} intensity={50} color=\"#333\" />\r\n\r\n                <Board />\r\n\r\n                {board.flat().map((cell: any, i: number) => {\r\n                    if (!cell) return null;\r\n                    const x = (i % 8) - 3.5;\r\n                    const z = Math.floor(i / 8) - 3.5;\r\n                    return (\r\n                        <Piece\r\n                            key={`${cell.type}-${cell.color}-${i}`}\r\n                            type={cell.type}\r\n                            color={cell.color}\r\n                            position={[x, 0, z]}\r\n                        />\r\n                    );\r\n                })}\r\n\r\n                <ContactShadows\r\n                    opacity={0.4}\r\n                    scale={20}\r\n                    blur={2}\r\n                    far={4.5}\r\n                    resolution={256}\r\n                    color=\"#000000\"\r\n                />\r\n                <Environment preset=\"night\" />\r\n            </Canvas>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction Board() {\r\n    const squares = [];\r\n    for (let i = 0; i < 8; i++) {\r\n        for (let j = 0; j < 8; j++) {\r\n            const isDark = (i + j) % 2 === 1;\r\n            squares.push(\r\n                <mesh\r\n                    key={`${i}-${j}`}\r\n                    position={[i - 3.5, -0.05, j - 3.5]}\r\n                    receiveShadow\r\n                >\r\n                    <boxGeometry args={[1, 0.1, 1]} />\r\n                    <meshStandardMaterial\r\n                        color={isDark ? \"#111\" : \"#222\"}\r\n                        roughness={0.5}\r\n                        metalness={0.2}\r\n                    />\r\n                </mesh>\r\n            );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <group>\r\n            {squares}\r\n            <mesh position={[0, -0.2, 0]} receiveShadow>\r\n                <boxGeometry args={[9, 0.2, 9]} />\r\n                <meshStandardMaterial color=\"#050505\" roughness={1} />\r\n            </mesh>\r\n        </group>\r\n    );\r\n}\r\n\r\nfunction Piece({ type, color, position }: { type: string; color: string; position: [number, number, number] }) {\r\n    const meshRef = useRef<THREE.Group>(null);\r\n    const targetPos = useMemo(() => new THREE.Vector3(...position), [position]);\r\n    const currentPos = useRef(new THREE.Vector3(...position));\r\n\r\n    const isWhite = color === \"w\";\r\n    const colorHex = isWhite ? \"#ededed\" : \"#333333\";\r\n    const metalness = isWhite ? 0.2 : 0.8;\r\n    const roughness = isWhite ? 0.3 : 0.1;\r\n\r\n    const material = useMemo(() => new THREE.MeshStandardMaterial({\r\n        color: colorHex,\r\n        metalness,\r\n        roughness\r\n    }), [colorHex, metalness, roughness]);\r\n\r\n    useFrame((state, delta) => {\r\n        if (meshRef.current) {\r\n            currentPos.current.lerp(targetPos, 0.1);\r\n            meshRef.current.position.copy(currentPos.current);\r\n            // Subtle float effect relative to base position\r\n            meshRef.current.position.y += Math.sin(state.clock.elapsedTime * 2 + position[0]) * 0.005;\r\n        }\r\n    });\r\n\r\n    const getGeometry = () => {\r\n        switch (type) {\r\n            case \"p\":\r\n                return (\r\n                    <mesh castShadow material={material}>\r\n                        <cylinderGeometry args={[0.25, 0.3, 0.5, 20]} />\r\n                    </mesh>\r\n                );\r\n            case \"r\":\r\n                return (\r\n                    <mesh castShadow material={material}>\r\n                        <boxGeometry args={[0.45, 0.7, 0.45]} />\r\n                    </mesh>\r\n                );\r\n            case \"n\":\r\n                return (\r\n                    <group>\r\n                        <mesh position={[0, -0.1, 0]} castShadow material={material}>\r\n                            <cylinderGeometry args={[0.15, 0.35, 0.4, 8]} />\r\n                        </mesh>\r\n                        <mesh position={[0, 0.2, 0.05]} rotation={[Math.PI / 4, 0, 0]} castShadow material={material}>\r\n                            <boxGeometry args={[0.25, 0.35, 0.25]} />\r\n                        </mesh>\r\n                    </group>\r\n                );\r\n            case \"b\":\r\n                return (\r\n                    <group>\r\n                        <mesh position={[0, -0.1, 0]} castShadow material={material}>\r\n                            <cylinderGeometry args={[0.1, 0.3, 0.6, 20]} />\r\n                        </mesh>\r\n                        <mesh position={[0, 0.3, 0]} castShadow material={material}>\r\n                            <sphereGeometry args={[0.18]} />\r\n                        </mesh>\r\n                    </group>\r\n                );\r\n            case \"q\":\r\n                return (\r\n                    <group>\r\n                        <mesh position={[0, 0, 0]} castShadow material={material}>\r\n                            <cylinderGeometry args={[0.15, 0.3, 0.8, 20]} />\r\n                        </mesh>\r\n                        <mesh position={[0, 0.45, 0]} rotation={[Math.PI / 2, 0, 0]} castShadow material={material}>\r\n                            <torusGeometry args={[0.12, 0.04, 8, 20]} />\r\n                        </mesh>\r\n                    </group>\r\n                );\r\n            case \"k\":\r\n                return (\r\n                    <group>\r\n                        <mesh position={[0, 0, 0]} castShadow material={material}>\r\n                            <cylinderGeometry args={[0.15, 0.3, 0.8, 20]} />\r\n                        </mesh>\r\n                        <mesh position={[0, 0.5, 0]} castShadow material={material}>\r\n                            <boxGeometry args={[0.15, 0.3, 0.15]} />\r\n                        </mesh>\r\n                        <mesh position={[0, 0.55, 0]} castShadow material={material}>\r\n                            <boxGeometry args={[0.35, 0.1, 0.15]} />\r\n                        </mesh>\r\n                    </group>\r\n                );\r\n            default:\r\n                return (\r\n                    <mesh castShadow material={material}>\r\n                        <sphereGeometry args={[0.3]} />\r\n                    </mesh>\r\n                );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <group ref={meshRef}>\r\n            <Float speed={2} rotationIntensity={0.1} floatIntensity={0.2}>\r\n                <group position={[0, 0.3, 0]}>\r\n                    {getGeometry()}\r\n                </group>\r\n            </Float>\r\n        </group>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 991, "column": 0}, "map": {"version":3,"sources":["file:///D:/d%20drive%20downloads/Coding/Ai%20chess/components/MatchBoard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport { Chess } from \"chess.js\";\r\nimport Scene3d from \"@/components/chess/Scene3d\";\r\n\r\ninterface MatchBoardProps {\r\n    apiKeys: { groq: string; openrouter: string };\r\n    model1: string;\r\n    model2: string;\r\n}\r\n\r\nexport default function MatchBoard({ apiKeys, model1, model2 }: MatchBoardProps) {\r\n    const [game, setGame] = useState(new Chess());\r\n    const [thoughts1, setThoughts1] = useState<string[]>([]);\r\n    const [thoughts2, setThoughts2] = useState<string[]>([]);\r\n    const [commentary, setCommentary] = useState<string | null>(null);\r\n    const [isThinking, setIsThinking] = useState(false);\r\n    const [status, setStatus] = useState<\"playing\" | \"ended\">(\"playing\");\r\n\r\n    const turnRef = useRef<\"w\" | \"b\">(\"w\");\r\n\r\n    const scrollRef1 = useRef<HTMLDivElement>(null);\r\n    const scrollRef2 = useRef<HTMLDivElement>(null);\r\n\r\n    useEffect(() => {\r\n        if (scrollRef1.current) scrollRef1.current.scrollTop = scrollRef1.current.scrollHeight;\r\n    }, [thoughts1]);\r\n\r\n    useEffect(() => {\r\n        if (scrollRef2.current) scrollRef2.current.scrollTop = scrollRef2.current.scrollHeight;\r\n    }, [thoughts2]);\r\n\r\n    const requestMove = async () => {\r\n        if (status === \"ended\" || isThinking) return;\r\n\r\n        setIsThinking(true);\r\n        const turn = game.turn();\r\n        const currentModel = turn === \"w\" ? model1 : model2;\r\n        const history = game.history();\r\n        const fen = game.fen();\r\n\r\n        try {\r\n            const res = await fetch(\"/api/chess/move\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({\r\n                    apiKeys,\r\n                    model: currentModel,\r\n                    role: turn === \"w\" ? \"white\" : \"black\",\r\n                    fen,\r\n                    history,\r\n                }),\r\n            });\r\n\r\n            const data = await res.json();\r\n\r\n            if (data.error) throw new Error(data.error);\r\n\r\n            // Apply move\r\n            const moveResult = game.move(data.move);\r\n            if (moveResult) {\r\n                setGame(new Chess(game.fen()));\r\n                if (turn === \"w\") {\r\n                    setThoughts1((prev) => [...prev, data.thoughts]);\r\n                } else {\r\n                    setThoughts2((prev) => [...prev, data.thoughts]);\r\n                }\r\n            }\r\n\r\n            // Check game end\r\n            if (game.isGameOver()) {\r\n                setStatus(\"ended\");\r\n            }\r\n\r\n            // If black just moved, call commentary\r\n            if (turn === \"b\") {\r\n                const commRes = await fetch(\"/api/chess/commentary\", {\r\n                    method: \"POST\",\r\n                    headers: { \"Content-Type\": \"application/json\" },\r\n                    body: JSON.stringify({\r\n                        apiKeys,\r\n                        fen: game.fen(),\r\n                        history: game.history(),\r\n                    }),\r\n                });\r\n                const commData = await commRes.json();\r\n                setCommentary(commData.commentary);\r\n            }\r\n\r\n        } catch (err) {\r\n            console.error(err);\r\n        } finally {\r\n            setIsThinking(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        // Start the game loop\r\n        const timer = setTimeout(() => {\r\n            if (status === \"playing\" && !isThinking) {\r\n                requestMove();\r\n            }\r\n        }, 1000);\r\n        return () => clearTimeout(timer);\r\n    }, [game, status, isThinking]);\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 grid grid-cols-[300px_1fr_300px] grid-rows-[1fr_200px] bg-black\">\r\n            {/* Player 1 Thoughts (Left) */}\r\n            <div className=\"border-r border-zinc-900 p-6 flex flex-col justify-end overflow-hidden relative\">\r\n                <div className=\"absolute top-6 left-6 text-xs text-zinc-600 uppercase tracking-widest\">\r\n                    {model1}\r\n                </div>\r\n                <div\r\n                    ref={scrollRef1}\r\n                    className=\"thoughts-scroll fade-up overflow-y-auto space-y-8 flex flex-col-reverse\"\r\n                >\r\n                    {thoughts1.slice().reverse().map((t, i) => (\r\n                        <p key={i} className=\"text-zinc-400 text-sm italic leading-relaxed\">\r\n                            {t}\r\n                        </p>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {/* 3D Board (Center) */}\r\n            <div className=\"relative border-b border-zinc-900\">\r\n                <Scene3d fen={game.fen()} lastMove={game.history().slice(-1)[0]} />\r\n                {isThinking && (\r\n                    <div className=\"absolute top-8 left-1/2 -translate-x-1/2\">\r\n                        <span className=\"text-xs uppercase tracking-widest text-zinc-500 animate-pulse\">\r\n                            AI Thinking...\r\n                        </span>\r\n                    </div>\r\n                )}\r\n                {status === \"ended\" && (\r\n                    <div className=\"absolute inset-0 flex items-center justify-center bg-black/60 z-10\">\r\n                        <h2 className=\"text-4xl font-bold uppercase tracking-tighter italic\">Match Over</h2>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Player 2 Thoughts (Right) */}\r\n            <div className=\"border-l border-zinc-900 p-6 flex flex-col justify-end overflow-hidden relative\">\r\n                <div className=\"absolute top-6 right-6 text-xs text-zinc-600 uppercase tracking-widest text-right\">\r\n                    {model2}\r\n                </div>\r\n                <div\r\n                    ref={scrollRef2}\r\n                    className=\"thoughts-scroll fade-up overflow-y-auto space-y-8 flex flex-col-reverse\"\r\n                >\r\n                    {thoughts2.slice().reverse().map((t, i) => (\r\n                        <p key={i} className=\"text-zinc-400 text-sm italic leading-relaxed\">\r\n                            {t}\r\n                        </p>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Commentary (Bottom) */}\r\n            <div className=\"col-span-3 border-t border-zinc-900 p-8 flex flex-col items-center justify-center text-center\">\r\n                <div className=\"max-w-2xl space-y-2\">\r\n                    <span className=\"text-xs text-zinc-600 uppercase tracking-widest\">Post-Move Analytical Critique</span>\r\n                    <p className=\"text-xl font-medium text-white italic\">\r\n                        {commentary || \"Waiting for initial exchange...\"}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1261, "column": 0}, "map": {"version":3,"sources":["file:///D:/d%20drive%20downloads/Coding/Ai%20chess/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport ApiKeyEntry from \"@/components/ApiKeyEntry\";\r\nimport ModelSelection from \"@/components/ModelSelection\";\r\nimport MatchBoard from \"@/components/MatchBoard\";\r\n\r\nexport default function Home() {\r\n    const [step, setStep] = useState(0);\r\n    const [apiKeys, setApiKeys] = useState({ groq: \"\", openrouter: \"\" });\r\n    const [models, setModels] = useState({ model1: \"\", model2: \"\" });\r\n\r\n    const handleApiKeysSubmit = (keys: { groq: string; openrouter: string }) => {\r\n        setApiKeys(keys);\r\n        setStep(1);\r\n    };\r\n\r\n    const handleModelsSubmit = (model1: string, model2: string) => {\r\n        setModels({ model1, model2 });\r\n        setStep(2);\r\n    };\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-black text-white\">\r\n            {step === 0 && <ApiKeyEntry onSubmit={handleApiKeysSubmit} />}\r\n            {step === 1 && <ModelSelection apiKeys={apiKeys} onSubmit={handleModelsSubmit} />}\r\n            {step === 2 && (\r\n                <MatchBoard\r\n                    apiKeys={apiKeys}\r\n                    model1={models.model1}\r\n                    model2={models.model2}\r\n                />\r\n            )}\r\n        </main>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACpB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,8NAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,8NAAQ,EAAC;QAAE,MAAM;QAAI,YAAY;IAAG;IAClE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,8NAAQ,EAAC;QAAE,QAAQ;QAAI,QAAQ;IAAG;IAE9D,MAAM,sBAAsB,CAAC;QACzB,WAAW;QACX,QAAQ;IACZ;IAEA,MAAM,qBAAqB,CAAC,QAAgB;QACxC,UAAU;YAAE;YAAQ;QAAO;QAC3B,QAAQ;IACZ;IAEA,qBACI,2PAAC;QAAK,WAAU;;YACX,SAAS,mBAAK,2PAAC,kJAAW;gBAAC,UAAU;;;;;;YACrC,SAAS,mBAAK,2PAAC,qJAAc;gBAAC,SAAS;gBAAS,UAAU;;;;;;YAC1D,SAAS,mBACN,2PAAC,iJAAU;gBACP,SAAS;gBACT,QAAQ,OAAO,MAAM;gBACrB,QAAQ,OAAO,MAAM;;;;;;;;;;;;AAKzC"}}]
}