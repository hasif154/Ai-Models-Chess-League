{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///D:/d%20drive%20downloads/Coding/Ai%20chess/components/ApiKeyEntry.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\n\r\ninterface ApiKeyEntryProps {\r\n    onSubmit: (keys: { groq: string; openrouter: string }) => void;\r\n}\r\n\r\nexport default function ApiKeyEntry({ onSubmit }: ApiKeyEntryProps) {\r\n    const [groq, setGroq] = useState(\"\");\r\n    const [openrouter, setOpenrouter] = useState(\"\");\r\n    const [focusedField, setFocusedField] = useState<string | null>(null);\r\n\r\n    const handleSubmit = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (groq) {\r\n            onSubmit({ groq, openrouter });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"relative flex flex-col items-center justify-center min-h-screen p-4 bg-pattern overflow-hidden\">\r\n            {/* Ambient Background Glow */}\r\n            <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\r\n                <div className=\"absolute top-1/4 left-1/4 w-96 h-96 bg-white/[0.02] rounded-full blur-3xl\" />\r\n                <div className=\"absolute bottom-1/4 right-1/4 w-80 h-80 bg-white/[0.015] rounded-full blur-3xl\" />\r\n            </div>\r\n\r\n            <div className=\"relative w-full max-w-lg space-y-10 text-center\">\r\n                {/* Logo & Title */}\r\n                <div className=\"space-y-4\">\r\n                    {/* Chess Icon */}\r\n                    <div className=\"flex justify-center mb-6\">\r\n                        <div className=\"relative\">\r\n                            <div className=\"w-16 h-16 flex items-center justify-center rounded-2xl bg-gradient-to-br from-white/10 to-white/5 border border-white/10\">\r\n                                <svg className=\"w-8 h-8 text-white\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                                    <path d=\"M19 22H5v-2h14v2M17.16 8.26A8.94 8.94 0 0018 5H6a9 9 0 00.84 3.26L4.2 12.58c-.31.71-.2 1.55.27 2.15.47.6 1.2.97 1.97.97H12v4h4v-4h5.56c.77 0 1.5-.37 1.97-.97.47-.6.58-1.44.27-2.15l-2.64-4.32zM12 14a2 2 0 110-4 2 2 0 010 4z\" />\r\n                                </svg>\r\n                            </div>\r\n                            <div className=\"absolute -inset-2 bg-white/5 rounded-3xl blur-xl\" />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <h1 className=\"text-5xl font-black tracking-tighter text-white uppercase italic text-glow\">\r\n                        AI Chess League\r\n                    </h1>\r\n                    <p className=\"text-zinc-500 text-sm tracking-wide\">\r\n                        Watch AI models battle it out on the chessboard\r\n                    </p>\r\n                </div>\r\n\r\n                {/* API Key Form */}\r\n                <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n                    <div className=\"glass-card rounded-2xl p-8 space-y-6\">\r\n                        {/* Groq API Key */}\r\n                        <div className=\"space-y-3 text-left\">\r\n                            <label className=\"flex items-center gap-2 text-xs font-semibold text-zinc-400 uppercase tracking-widest\">\r\n                                <span className=\"w-1.5 h-1.5 rounded-full bg-emerald-500\" />\r\n                                Groq API Key\r\n                                <span className=\"ml-auto text-[10px] text-zinc-600 normal-case tracking-normal font-normal\">Required</span>\r\n                            </label>\r\n                            <div className=\"relative\">\r\n                                <input\r\n                                    type=\"password\"\r\n                                    value={groq}\r\n                                    onChange={(e) => setGroq(e.target.value)}\r\n                                    onFocus={() => setFocusedField('groq')}\r\n                                    onBlur={() => setFocusedField(null)}\r\n                                    className=\"premium-input w-full p-4 text-white text-sm\"\r\n                                    placeholder=\"gsk_...\"\r\n                                    required\r\n                                />\r\n                                {focusedField === 'groq' && (\r\n                                    <div className=\"absolute inset-0 rounded-xl border border-emerald-500/20 pointer-events-none\" />\r\n                                )}\r\n                            </div>\r\n                            <p className=\"text-[11px] text-zinc-600\">\r\n                                Get your free API key at{\" \"}\r\n                                <a\r\n                                    href=\"https://console.groq.com\"\r\n                                    target=\"_blank\"\r\n                                    rel=\"noopener noreferrer\"\r\n                                    className=\"text-zinc-400 hover:text-white underline underline-offset-2 transition-colors\"\r\n                                >\r\n                                    console.groq.com\r\n                                </a>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div className=\"fancy-divider\" />\r\n\r\n                        {/* OpenRouter API Key */}\r\n                        <div className=\"space-y-3 text-left\">\r\n                            <label className=\"flex items-center gap-2 text-xs font-semibold text-zinc-400 uppercase tracking-widest\">\r\n                                <span className=\"w-1.5 h-1.5 rounded-full bg-purple-500\" />\r\n                                OpenRouter API Key\r\n                                <span className=\"ml-auto text-[10px] text-zinc-600 normal-case tracking-normal font-normal\">Optional</span>\r\n                            </label>\r\n                            <div className=\"relative\">\r\n                                <input\r\n                                    type=\"password\"\r\n                                    value={openrouter}\r\n                                    onChange={(e) => setOpenrouter(e.target.value)}\r\n                                    onFocus={() => setFocusedField('openrouter')}\r\n                                    onBlur={() => setFocusedField(null)}\r\n                                    className=\"premium-input w-full p-4 text-white text-sm\"\r\n                                    placeholder=\"sk-or-v1-...\"\r\n                                />\r\n                                {focusedField === 'openrouter' && (\r\n                                    <div className=\"absolute inset-0 rounded-xl border border-purple-500/20 pointer-events-none\" />\r\n                                )}\r\n                            </div>\r\n                            <p className=\"text-[11px] text-zinc-600\">\r\n                                Unlocks GPT-4o, Claude, Gemini &amp; more at{\" \"}\r\n                                <a\r\n                                    href=\"https://openrouter.ai\"\r\n                                    target=\"_blank\"\r\n                                    rel=\"noopener noreferrer\"\r\n                                    className=\"text-zinc-400 hover:text-white underline underline-offset-2 transition-colors\"\r\n                                >\r\n                                    openrouter.ai\r\n                                </a>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={!groq}\r\n                        className={`premium-button w-full py-4 px-6 text-sm ${!groq ? 'opacity-40 cursor-not-allowed' : ''\r\n                            }`}\r\n                    >\r\n                        <span className=\"relative z-10 flex items-center justify-center gap-2\">\r\n                            Continue\r\n                            <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2.5}>\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M13 7l5 5m0 0l-5 5m5-5H6\" />\r\n                            </svg>\r\n                        </span>\r\n                    </button>\r\n                </form>\r\n\r\n                {/* Footer Note */}\r\n                <p className=\"text-[11px] text-zinc-700\">\r\n                    Your API keys are used locally and never stored on any server.\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 393, "column": 0}, "map": {"version":3,"sources":["file:///D:/d%20drive%20downloads/Coding/Ai%20chess/components/ModelSelection.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\n\r\ninterface ModelSelectionProps {\r\n    apiKeys: { groq: string; openrouter: string };\r\n    onSubmit: (model1: string, model2: string) => void;\r\n}\r\n\r\nconst GROQ_MODELS = [\r\n    { id: \"llama-3.3-70b-versatile\", name: \"Llama 3.3 70B\" },\r\n    { id: \"llama-3.1-8b-instant\", name: \"Llama 3.1 8B\" },\r\n    { id: \"mixtral-8x7b-32768\", name: \"Mixtral 8x7B\" },\r\n];\r\n\r\nconst OPENROUTER_MODELS = [\r\n    { id: \"google/gemini-2.0-flash-exp:free\", name: \"Gemini 2.0 Flash\" },\r\n    { id: \"anthropic/claude-3.5-sonnet\", name: \"Claude 3.5 Sonnet\" },\r\n    { id: \"openai/gpt-4o\", name: \"GPT-4o\" },\r\n];\r\n\r\nexport default function ModelSelection({ apiKeys, onSubmit }: ModelSelectionProps) {\r\n    const availableModels = [...GROQ_MODELS];\r\n    if (apiKeys.openrouter) availableModels.push(...OPENROUTER_MODELS);\r\n\r\n    const [model1, setModel1] = useState(availableModels[0].id);\r\n    const [model2, setModel2] = useState(availableModels[1]?.id || availableModels[0].id);\r\n\r\n    return (\r\n        <div className=\"relative flex flex-col items-center justify-center min-h-screen p-4 bg-pattern\">\r\n            <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\r\n                <div className=\"absolute top-1/3 left-1/4 w-72 h-72 bg-white/[0.02] rounded-full blur-3xl\" />\r\n            </div>\r\n\r\n            <div className=\"relative w-full max-w-5xl space-y-12 text-center\">\r\n                <div className=\"space-y-3\">\r\n                    <h1 className=\"text-5xl font-black tracking-tighter text-white uppercase italic text-glow\">\r\n                        Choose Your Fighters\r\n                    </h1>\r\n                    <p className=\"text-zinc-500 text-sm\">Select AI models for an epic chess battle</p>\r\n                </div>\r\n\r\n                <div className=\"flex flex-col lg:flex-row items-center justify-center gap-8 lg:gap-12\">\r\n                    <div className=\"w-full lg:w-80 player-card player-card-white p-6 space-y-4\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <div className=\"w-10 h-10 rounded-full bg-white flex items-center justify-center\">\r\n                                <svg className=\"w-5 h-5 text-black\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                                    <circle cx=\"12\" cy=\"8\" r=\"4\" /><path d=\"M12 14c-6 0-8 3-8 6v2h16v-2c0-3-2-6-8-6z\" />\r\n                                </svg>\r\n                            </div>\r\n                            <div className=\"text-left\">\r\n                                <div className=\"text-xs text-zinc-500 uppercase tracking-widest\">Player 1</div>\r\n                                <div className=\"text-sm font-semibold text-white\">White Pieces</div>\r\n                            </div>\r\n                        </div>\r\n                        <select value={model1} onChange={(e) => setModel1(e.target.value)} className=\"premium-select w-full p-4 text-white text-sm\">\r\n                            {availableModels.map((m) => <option key={m.id} value={m.id}>{m.name}</option>)}\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"vs-badge shrink-0\">VS</div>\r\n\r\n                    <div className=\"w-full lg:w-80 player-card player-card-black p-6 space-y-4\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <div className=\"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center border border-zinc-700\">\r\n                                <svg className=\"w-5 h-5 text-white\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                                    <circle cx=\"12\" cy=\"8\" r=\"4\" /><path d=\"M12 14c-6 0-8 3-8 6v2h16v-2c0-3-2-6-8-6z\" />\r\n                                </svg>\r\n                            </div>\r\n                            <div className=\"text-left\">\r\n                                <div className=\"text-xs text-zinc-500 uppercase tracking-widest\">Player 2</div>\r\n                                <div className=\"text-sm font-semibold text-white\">Black Pieces</div>\r\n                            </div>\r\n                        </div>\r\n                        <select value={model2} onChange={(e) => setModel2(e.target.value)} className=\"premium-select w-full p-4 text-white text-sm\">\r\n                            {availableModels.map((m) => <option key={m.id} value={m.id}>{m.name}</option>)}\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n\r\n                <button onClick={() => onSubmit(model1, model2)} className=\"premium-button py-4 px-12 text-sm\">\r\n                    <span className=\"relative z-10 flex items-center justify-center gap-3\">\r\n                        <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M8 5v14l11-7z\" /></svg>\r\n                        Start Match\r\n                    </span>\r\n                </button>\r\n\r\n                {!apiKeys.openrouter && <p className=\"text-[11px] text-zinc-600\">Add OpenRouter API key to unlock GPT-4o, Claude, and Gemini.</p>}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 746, "column": 0}, "map": {"version":3,"sources":["file:///D:/d%20drive%20downloads/Coding/Ai%20chess/components/chess/Scene3d.tsx"],"sourcesContent":["\"use client\";\r\n/// <reference types=\"@react-three/fiber\" />\r\n\r\nimport { Canvas, useFrame } from \"@react-three/fiber\";\r\nimport { OrbitControls, PerspectiveCamera, ContactShadows } from \"@react-three/drei\";\r\nimport { useMemo, useRef, Suspense } from \"react\";\r\nimport * as THREE from \"three\";\r\nimport { Chess } from \"chess.js\";\r\n\r\ninterface Scene3dProps {\r\n    fen: string;\r\n    lastMove?: string;\r\n    whitePieceStyle?: \"maple\" | \"cherry\";\r\n    currentTurn?: \"w\" | \"b\"; // Current player's turn\r\n}\r\n\r\n// Map piece positions\r\nfunction fenToBoard(fen: string) {\r\n    const chess = new Chess(fen);\r\n    return chess.board();\r\n}\r\n\r\nexport default function Scene3d({ fen, lastMove, whitePieceStyle = \"maple\", currentTurn = \"w\" }: Scene3dProps) {\r\n    const board = useMemo(() => fenToBoard(fen), [fen]);\r\n\r\n    return (\r\n        <div className=\"w-full h-full\">\r\n            <Canvas shadows dpr={[1, 2]} gl={{ antialias: true, alpha: false }}>\r\n                {/* Static camera - fixed position */}\r\n                <PerspectiveCamera makeDefault position={[0, 7, 14]} fov={38} />\r\n                <OrbitControls\r\n                    enablePan={false}\r\n                    enableZoom={false}\r\n                    maxPolarAngle={Math.PI / 2.2}\r\n                    minPolarAngle={Math.PI / 6}\r\n                    autoRotate={false}\r\n                    enableDamping\r\n                    dampingFactor={0.05}\r\n                    target={[0, 0, 0]}\r\n                />\r\n\r\n                {/* Pure black background */}\r\n                <color attach=\"background\" args={[\"#0a0a0a\"]} />\r\n\r\n                {/* Soft ambient lighting */}\r\n                <ambientLight intensity={0.5} />\r\n\r\n                {/* Main front-top light for even illumination */}\r\n                <directionalLight\r\n                    position={[8, 15, 12]}\r\n                    intensity={1.8}\r\n                    castShadow\r\n                    shadow-mapSize={[2048, 2048]}\r\n                    shadow-bias={-0.0001}\r\n                />\r\n\r\n                {/* Soft fill from left */}\r\n                <directionalLight\r\n                    position={[-10, 10, 5]}\r\n                    intensity={0.6}\r\n                    color=\"#f8f8ff\"\r\n                />\r\n\r\n                {/* Back rim light for depth */}\r\n                <pointLight position={[0, 8, -15]} intensity={40} color=\"#ffffff\" />\r\n\r\n                <Suspense fallback={null}>\r\n                    <ChessBoard />\r\n                    <ChessPieces board={board} whitePieceStyle={whitePieceStyle} />\r\n                </Suspense>\r\n\r\n                <ContactShadows\r\n                    position={[0, -0.01, 0]}\r\n                    opacity={0.35}\r\n                    scale={14}\r\n                    blur={2.5}\r\n                    far={4}\r\n                    resolution={1024}\r\n                    color=\"#000000\"\r\n                />\r\n            </Canvas>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nfunction ChessBoard() {\r\n    // Elegant dark and light chess board colors\r\n    const darkSquareColor = \"#1B1A1B\";  // Dark charcoal\r\n    const lightSquareColor = \"#E5E0D7\"; // Soft ivory\r\n    const borderColor = \"#B7A688\";       // Border frame\r\n    const cornerColor = \"#6D4C32\";       // Border corners\r\n\r\n    const squares = useMemo(() => {\r\n        const result = [];\r\n        for (let row = 0; row < 8; row++) {\r\n            for (let col = 0; col < 8; col++) {\r\n                const isDark = (row + col) % 2 === 1;\r\n                const x = col - 3.5;\r\n                const z = row - 3.5;\r\n                result.push(\r\n                    <mesh\r\n                        key={`${row}-${col}`}\r\n                        position={[x, 0.06, z]}\r\n                        receiveShadow\r\n                    >\r\n                        <boxGeometry args={[1, 0.12, 1]} />\r\n                        <meshStandardMaterial\r\n                            color={isDark ? darkSquareColor : lightSquareColor}\r\n                            roughness={0.55}\r\n                            metalness={0.02}\r\n                        />\r\n                    </mesh>\r\n                );\r\n            }\r\n        }\r\n        return result;\r\n    }, []);\r\n\r\n    // Corner positions\r\n    const corners = [\r\n        [-4.2, -4.2], [-4.2, 4.2], [4.2, -4.2], [4.2, 4.2]\r\n    ];\r\n\r\n    return (\r\n        <group>\r\n            {squares}\r\n\r\n            {/* Main border frame */}\r\n            <mesh position={[0, -0.02, 0]} receiveShadow>\r\n                <boxGeometry args={[8.6, 0.2, 8.6]} />\r\n                <meshStandardMaterial\r\n                    color={borderColor}\r\n                    roughness={0.65}\r\n                    metalness={0.02}\r\n                />\r\n            </mesh>\r\n\r\n            {/* Corner accents */}\r\n            {corners.map(([x, z], i) => (\r\n                <mesh key={i} position={[x, 0.02, z]} receiveShadow>\r\n                    <boxGeometry args={[0.6, 0.18, 0.6]} />\r\n                    <meshStandardMaterial\r\n                        color={cornerColor}\r\n                        roughness={0.5}\r\n                        metalness={0.05}\r\n                    />\r\n                </mesh>\r\n            ))}\r\n\r\n            {/* Thin dark line at board edge */}\r\n            <mesh position={[0, 0.005, 0]}>\r\n                <boxGeometry args={[8.02, 0.01, 8.02]} />\r\n                <meshStandardMaterial color=\"#2a2a2a\" roughness={0.9} />\r\n            </mesh>\r\n        </group>\r\n    );\r\n}\r\n\r\ninterface ChessPiecesProps {\r\n    board: ReturnType<typeof fenToBoard>;\r\n    whitePieceStyle: \"maple\" | \"cherry\";\r\n}\r\n\r\nfunction ChessPieces({ board, whitePieceStyle }: ChessPiecesProps) {\r\n    const pieces: any[] = [];\r\n\r\n    board.forEach((row, rowIndex) => {\r\n        row.forEach((cell, colIndex) => {\r\n            if (cell) {\r\n                const x = colIndex - 3.5;\r\n                const z = rowIndex - 3.5;\r\n                pieces.push(\r\n                    <ChessPiece\r\n                        key={`${cell.type}-${cell.color}-${rowIndex}-${colIndex}`}\r\n                        type={cell.type}\r\n                        color={cell.color}\r\n                        targetPosition={[x, 0.12, z]}\r\n                        whitePieceStyle={whitePieceStyle}\r\n                    />\r\n                );\r\n            }\r\n        });\r\n    });\r\n\r\n    return <>{pieces}</>;\r\n}\r\n\r\ninterface ChessPieceProps {\r\n    type: string;\r\n    color: string;\r\n    targetPosition: [number, number, number];\r\n    whitePieceStyle: \"maple\" | \"cherry\";\r\n}\r\n\r\nfunction ChessPiece({ type, color, targetPosition, whitePieceStyle }: ChessPieceProps) {\r\n    const meshRef = useRef<THREE.Group>(null);\r\n    const currentPos = useRef(new THREE.Vector3(...targetPosition));\r\n    const target = useMemo(() => new THREE.Vector3(...targetPosition), [targetPosition]);\r\n\r\n    const isWhite = color === \"w\";\r\n\r\n    // White piece colors based on style option\r\n    const whitePieceColors = {\r\n        maple: \"#E7D9B7\",  // Maple Light\r\n        cherry: \"#CBB88B\"  // Cherry Warm\r\n    };\r\n\r\n    // Piece materials - static lighting\r\n    const material = useMemo(() => {\r\n        if (isWhite) {\r\n            return new THREE.MeshStandardMaterial({\r\n                color: whitePieceColors[whitePieceStyle],\r\n                roughness: 0.25,\r\n                metalness: 0.02,\r\n            });\r\n        } else {\r\n            // Dark pieces\r\n            return new THREE.MeshStandardMaterial({\r\n                color: \"#1F1E1D\",\r\n                roughness: 0.2,\r\n                metalness: 0.1,\r\n            });\r\n        }\r\n    }, [isWhite, whitePieceStyle]);\r\n\r\n    useFrame(() => {\r\n        if (meshRef.current) {\r\n            currentPos.current.lerp(target, 0.12);\r\n            meshRef.current.position.copy(currentPos.current);\r\n        }\r\n    });\r\n\r\n    const getPieceGeometry = () => {\r\n        const t = type.toLowerCase();\r\n        switch (t) {\r\n            case \"p\": // Pawn\r\n                return (\r\n                    <group>\r\n                        <mesh castShadow receiveShadow position={[0, 0.05, 0]} material={material}>\r\n                            <cylinderGeometry args={[0.28, 0.32, 0.08, 32]} />\r\n                        </mesh>\r\n                        <mesh castShadow receiveShadow position={[0, 0.15, 0]} material={material}>\r\n                            <cylinderGeometry args={[0.18, 0.26, 0.14, 32]} />\r\n                        </mesh>\r\n                        <mesh castShadow receiveShadow position={[0, 0.26, 0]} material={material}>\r\n                            <cylinderGeometry args={[0.12, 0.16, 0.1, 32]} />\r\n                        </mesh>\r\n                        <mesh castShadow receiveShadow position={[0, 0.38, 0]} material={material}>\r\n                            <sphereGeometry args={[0.14, 32, 32]} />\r\n                        </mesh>\r\n                    </group>\r\n                );\r\n\r\n            case \"r\": // Rook\r\n                return (\r\n                    <group>\r\n                        <mesh castShadow receiveShadow position={[0, 0.05, 0]} material={material}>\r\n                            <cylinderGeometry args={[0.3, 0.34, 0.08, 32]} />\r\n                        </mesh>\r\n                        <mesh castShadow receiveShadow position={[0, 0.28, 0]} material={material}>\r\n                            <cylinderGeometry args={[0.22, 0.28, 0.4, 32]} />\r\n                        </mesh>\r\n                        <mesh castShadow receiveShadow position={[0, 0.52, 0]} material={material}>\r\n                            <cylinderGeometry args={[0.26, 0.22, 0.08, 32]} />\r\n                        </mesh>\r\n                        <mesh castShadow receiveShadow position={[0, 0.62, 0]} material={material}>\r\n                            <cylinderGeometry args={[0.24, 0.26, 0.12, 6]} />\r\n                        </mesh>\r\n                    </group>\r\n                );\r\n\r\n            case \"n\": // Knight\r\n                return (\r\n                    <group>\r\n                        <mesh castShadow receiveShadow position={[0, 0.05, 0]} material={material}>\r\n                            <cylinderGeometry args={[0.3, 0.34, 0.08, 32]} />\r\n                        </mesh>\r\n                        <mesh castShadow receiveShadow position={[0, 0.2, 0]} material={material}>\r\n                            <cylinderGeometry args={[0.16, 0.26, 0.24, 32]} />\r\n                        </mesh>\r\n                        <mesh castShadow receiveShadow position={[0, 0.42, 0.03]} rotation={[-0.3, 0, 0]} material={material}>\r\n                            <cylinderGeometry args={[0.1, 0.14, 0.3, 32]} />\r\n                        </mesh>\r\n                        <mesh castShadow receiveShadow position={[0, 0.6, 0.1]} rotation={[-0.5, 0, 0]} material={material}>\r\n                            <boxGeometry args={[0.16, 0.28, 0.24]} />\r\n                        </mesh>\r\n                        <mesh castShadow receiveShadow position={[0, 0.58, 0.28]} rotation={[0.1, 0, 0]} material={material}>\r\n                            <boxGeometry args={[0.12, 0.15, 0.18]} />\r\n                        </mesh>\r\n                        <mesh castShadow receiveShadow position={[0, 0.74, 0.05]} rotation={[-0.2, 0, 0]} material={material}>\r\n                            <coneGeometry args={[0.05, 0.1, 16]} />\r\n                        </mesh>\r\n                    </group>\r\n                );\r\n\r\n            case \"b\": // Bishop\r\n                return (\r\n                    <group>\r\n                        <mesh castShadow receiveShadow position={[0, 0.05, 0]} material={material}>\r\n                            <cylinderGeometry args={[0.3, 0.34, 0.08, 32]} />\r\n                        </mesh>\r\n                        <mesh castShadow receiveShadow position={[0, 0.26, 0]} material={material}>\r\n                            <cylinderGeometry args={[0.1, 0.26, 0.36, 32]} />\r\n                        </mesh>\r\n                        <mesh castShadow receiveShadow position={[0, 0.52, 0]} material={material}>\r\n                            <sphereGeometry args={[0.16, 32, 32]} />\r\n                        </mesh>\r\n                        <mesh castShadow receiveShadow position={[0, 0.58, 0.08]} rotation={[0.3, 0, 0]} material={material}>\r\n                            <boxGeometry args={[0.04, 0.12, 0.02]} />\r\n                        </mesh>\r\n                        <mesh castShadow receiveShadow position={[0, 0.7, 0]} material={material}>\r\n                            <sphereGeometry args={[0.05, 16, 16]} />\r\n                        </mesh>\r\n                    </group>\r\n                );\r\n\r\n            case \"q\": // Queen\r\n                return (\r\n                    <group>\r\n                        <mesh castShadow receiveShadow position={[0, 0.05, 0]} material={material}>\r\n                            <cylinderGeometry args={[0.32, 0.36, 0.08, 32]} />\r\n                        </mesh>\r\n                        <mesh castShadow receiveShadow position={[0, 0.35, 0]} material={material}>\r\n                            <cylinderGeometry args={[0.1, 0.3, 0.54, 32]} />\r\n                        </mesh>\r\n                        <mesh castShadow receiveShadow position={[0, 0.66, 0]} material={material}>\r\n                            <sphereGeometry args={[0.18, 32, 32]} />\r\n                        </mesh>\r\n                        <mesh castShadow receiveShadow position={[0, 0.82, 0]} material={material}>\r\n                            <cylinderGeometry args={[0.14, 0.1, 0.1, 32]} />\r\n                        </mesh>\r\n                        <mesh castShadow receiveShadow position={[0, 0.92, 0]} material={material}>\r\n                            <sphereGeometry args={[0.08, 24, 24]} />\r\n                        </mesh>\r\n                    </group>\r\n                );\r\n\r\n            case \"k\": // King\r\n                return (\r\n                    <group>\r\n                        <mesh castShadow receiveShadow position={[0, 0.05, 0]} material={material}>\r\n                            <cylinderGeometry args={[0.32, 0.36, 0.08, 32]} />\r\n                        </mesh>\r\n                        <mesh castShadow receiveShadow position={[0, 0.35, 0]} material={material}>\r\n                            <cylinderGeometry args={[0.12, 0.3, 0.54, 32]} />\r\n                        </mesh>\r\n                        <mesh castShadow receiveShadow position={[0, 0.66, 0]} material={material}>\r\n                            <sphereGeometry args={[0.18, 32, 32]} />\r\n                        </mesh>\r\n                        <mesh castShadow receiveShadow position={[0, 0.8, 0]} material={material}>\r\n                            <cylinderGeometry args={[0.12, 0.15, 0.08, 32]} />\r\n                        </mesh>\r\n                        <mesh castShadow receiveShadow position={[0, 0.96, 0]} material={material}>\r\n                            <boxGeometry args={[0.05, 0.24, 0.05]} />\r\n                        </mesh>\r\n                        <mesh castShadow receiveShadow position={[0, 1.0, 0]} material={material}>\r\n                            <boxGeometry args={[0.18, 0.05, 0.05]} />\r\n                        </mesh>\r\n                    </group>\r\n                );\r\n\r\n            default:\r\n                return (\r\n                    <mesh castShadow receiveShadow material={material}>\r\n                        <sphereGeometry args={[0.2, 32, 32]} />\r\n                    </mesh>\r\n                );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <group ref={meshRef}>\r\n            {getPieceGeometry()}\r\n        </group>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2064, "column": 0}, "map": {"version":3,"sources":["file:///D:/d%20drive%20downloads/Coding/Ai%20chess/components/MatchBoard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useRef, useCallback, useMemo } from \"react\";\r\nimport { Chess } from \"chess.js\";\r\nimport Scene3d from \"@/components/chess/Scene3d\";\r\n\r\ninterface MatchBoardProps {\r\n    apiKeys: { groq: string; openrouter: string };\r\n    model1: string;\r\n    model2: string;\r\n}\r\n\r\nfunction getShortModelName(model: string): string {\r\n    if (model.includes(\"llama-3.3-70b\")) return \"Llama 3.3 70B\";\r\n    if (model.includes(\"llama-3.1-8b\")) return \"Llama 3.1 8B\";\r\n    if (model.includes(\"mixtral\")) return \"Mixtral 8x7B\";\r\n    if (model.includes(\"gpt-4o\")) return \"GPT-4o\";\r\n    if (model.includes(\"claude\")) return \"Claude 3.5\";\r\n    if (model.includes(\"gemini\")) return \"Gemini 2.0\";\r\n    if (model.includes(\"grok\")) return \"Grok\";\r\n    return model.split(\"/\").pop()?.split(\":\")[0] || model;\r\n}\r\n\r\nfunction ModelIcon({ model }: { model: string }) {\r\n    const m = model.toLowerCase();\r\n    if (m.includes(\"gpt\") || m.includes(\"openai\")) return <span className=\"text-sm\">üß†</span>;\r\n    if (m.includes(\"claude\") || m.includes(\"anthropic\")) return <span className=\"text-sm\">üé≠</span>;\r\n    if (m.includes(\"gemini\") || m.includes(\"google\")) return <span className=\"text-sm\">‚ú®</span>;\r\n    if (m.includes(\"grok\")) return <span className=\"text-sm font-bold\">ùïè</span>;\r\n    return <span className=\"text-sm\">ü¶ô</span>;\r\n}\r\n\r\n// Piece symbols for captured display\r\nconst PIECE_SYMBOLS: Record<string, string> = {\r\n    p: \"‚ôü\", n: \"‚ôû\", b: \"‚ôù\", r: \"‚ôú\", q: \"‚ôõ\", k: \"‚ôö\"\r\n};\r\n\r\nexport default function MatchBoard({ apiKeys, model1, model2 }: MatchBoardProps) {\r\n    const [game, setGame] = useState(() => new Chess());\r\n    const [thoughts1, setThoughts1] = useState<string[]>([]);\r\n    const [thoughts2, setThoughts2] = useState<string[]>([]);\r\n    const [commentary, setCommentary] = useState<string | null>(null);\r\n    const [isThinking, setIsThinking] = useState(false);\r\n    const [status, setStatus] = useState<\"playing\" | \"ended\">(\"playing\");\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [moveCount, setMoveCount] = useState(0);\r\n    const [score1, setScore1] = useState(0);\r\n    const [score2, setScore2] = useState(0);\r\n    const [gameTime, setGameTime] = useState(0);\r\n    const [thinkingModel, setThinkingModel] = useState<string>(\"\");\r\n    const [whitePieceStyle, setWhitePieceStyle] = useState<\"maple\" | \"cherry\">(\"maple\");\r\n    const [capturedByWhite, setCapturedByWhite] = useState<string[]>([]); // Black pieces captured by white\r\n    const [capturedByBlack, setCapturedByBlack] = useState<string[]>([]); // White pieces captured by black\r\n\r\n    const gameRef = useRef(game);\r\n    const isThinkingRef = useRef(false);\r\n    const statusRef = useRef<\"playing\" | \"ended\">(\"playing\");\r\n    const scrollRef1 = useRef<HTMLDivElement>(null);\r\n    const scrollRef2 = useRef<HTMLDivElement>(null);\r\n\r\n    useEffect(() => { gameRef.current = game; }, [game]);\r\n    useEffect(() => { isThinkingRef.current = isThinking; }, [isThinking]);\r\n    useEffect(() => { statusRef.current = status; }, [status]);\r\n    useEffect(() => { if (scrollRef1.current) scrollRef1.current.scrollTop = scrollRef1.current.scrollHeight; }, [thoughts1]);\r\n    useEffect(() => { if (scrollRef2.current) scrollRef2.current.scrollTop = scrollRef2.current.scrollHeight; }, [thoughts2]);\r\n\r\n    useEffect(() => {\r\n        if (status === \"playing\") {\r\n            const timer = setInterval(() => setGameTime(prev => prev + 1), 1000);\r\n            return () => clearInterval(timer);\r\n        }\r\n    }, [status]);\r\n\r\n    const formatTime = (s: number) => `${Math.floor(s / 60).toString().padStart(2, '0')}:${(s % 60).toString().padStart(2, '0')}`;\r\n\r\n    // Get current turn\r\n    const currentTurn = game.turn();\r\n\r\n    const requestMove = useCallback(async () => {\r\n        if (statusRef.current === \"ended\" || isThinkingRef.current) return;\r\n        setIsThinking(true);\r\n        isThinkingRef.current = true;\r\n        setError(null);\r\n\r\n        const currentGame = gameRef.current;\r\n        const turn = currentGame.turn();\r\n        const currentModel = turn === \"w\" ? model1 : model2;\r\n        setThinkingModel(getShortModelName(currentModel));\r\n\r\n        try {\r\n            const controller = new AbortController();\r\n            const timeoutId = setTimeout(() => controller.abort(), 60000);\r\n\r\n            const res = await fetch(\"/api/chess/move\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({\r\n                    apiKeys,\r\n                    model: currentModel,\r\n                    role: turn === \"w\" ? \"white\" : \"black\",\r\n                    fen: currentGame.fen(),\r\n                    history: currentGame.history(),\r\n                }),\r\n                signal: controller.signal,\r\n            });\r\n            clearTimeout(timeoutId);\r\n\r\n            if (!res.ok) throw new Error(`API error: ${res.status}`);\r\n            const data = await res.json();\r\n            if (data.error) throw new Error(data.error);\r\n            if (!data.move) throw new Error(\"No move received from AI\");\r\n\r\n            if (data.move.toLowerCase() === \"resign\") {\r\n                setStatus(\"ended\");\r\n                statusRef.current = \"ended\";\r\n                if (turn === \"w\") setScore2(prev => prev + 1);\r\n                else setScore1(prev => prev + 1);\r\n                setCommentary(`${getShortModelName(currentModel)} has resigned!`);\r\n                return;\r\n            }\r\n\r\n            const newGame = new Chess(currentGame.fen());\r\n            const moveResult = newGame.move(data.move);\r\n\r\n            if (!moveResult) {\r\n                const legalMoves = newGame.moves();\r\n                const matchedMove = legalMoves.find(m =>\r\n                    m.toLowerCase().includes(data.move.toLowerCase()) ||\r\n                    data.move.toLowerCase().includes(m.toLowerCase())\r\n                );\r\n                if (matchedMove) newGame.move(matchedMove);\r\n                else throw new Error(`Invalid move: ${data.move}`);\r\n            }\r\n\r\n            // Track captured pieces\r\n            if (moveResult && moveResult.captured) {\r\n                const capturedPiece = moveResult.captured;\r\n                if (turn === \"w\") {\r\n                    // White captured a black piece\r\n                    setCapturedByWhite(prev => [...prev, capturedPiece]);\r\n                } else {\r\n                    // Black captured a white piece\r\n                    setCapturedByBlack(prev => [...prev, capturedPiece]);\r\n                }\r\n            }\r\n\r\n            setGame(newGame);\r\n            gameRef.current = newGame;\r\n            setMoveCount(prev => prev + 1);\r\n\r\n            const thoughtText = data.thoughts || `Played ${data.move}`;\r\n            if (turn === \"w\") setThoughts1(prev => [...prev, thoughtText]);\r\n            else setThoughts2(prev => [...prev, thoughtText]);\r\n\r\n            if (newGame.isGameOver()) {\r\n                setStatus(\"ended\");\r\n                statusRef.current = \"ended\";\r\n                if (newGame.isCheckmate()) {\r\n                    if (turn === \"w\") setScore1(prev => prev + 1);\r\n                    else setScore2(prev => prev + 1);\r\n                    setCommentary(`Checkmate! ${getShortModelName(currentModel)} wins!`);\r\n                } else if (newGame.isDraw()) setCommentary(\"Draw!\");\r\n                else if (newGame.isStalemate()) setCommentary(\"Stalemate!\");\r\n                return;\r\n            }\r\n\r\n            if (turn === \"b\" && moveCount > 0) {\r\n                try {\r\n                    const commRes = await fetch(\"/api/chess/commentary\", {\r\n                        method: \"POST\",\r\n                        headers: { \"Content-Type\": \"application/json\" },\r\n                        body: JSON.stringify({ apiKeys, fen: newGame.fen(), history: newGame.history() }),\r\n                    });\r\n                    if (commRes.ok) {\r\n                        const commData = await commRes.json();\r\n                        if (commData.commentary) setCommentary(commData.commentary);\r\n                    }\r\n                } catch { }\r\n            }\r\n        } catch (err: any) {\r\n            setError(err.message || \"Error requesting move\");\r\n            setTimeout(() => setError(null), 3000);\r\n        } finally {\r\n            setIsThinking(false);\r\n            isThinkingRef.current = false;\r\n            setThinkingModel(\"\");\r\n        }\r\n    }, [apiKeys, model1, model2, moveCount]);\r\n\r\n    useEffect(() => {\r\n        if (status === \"ended\") return;\r\n        const timer = setTimeout(() => {\r\n            if (!isThinkingRef.current && statusRef.current === \"playing\") requestMove();\r\n        }, 3000);\r\n        return () => clearTimeout(timer);\r\n    }, [game, status, isThinking, requestMove]);\r\n\r\n    const history = game.history();\r\n    const lastMove = history.length > 0 ? history[history.length - 1] : undefined;\r\n\r\n    // Render captured pieces\r\n    const renderCapturedPieces = (pieces: string[], isWhitePieces: boolean) => {\r\n        return pieces.map((p, i) => (\r\n            <div\r\n                key={i}\r\n                className={`text-xl ${isWhitePieces ? \"text-[#E7D9B7]\" : \"text-[#1F1E1D]\"}`}\r\n                style={{ textShadow: isWhitePieces ? \"0 1px 2px rgba(0,0,0,0.5)\" : \"0 1px 2px rgba(255,255,255,0.3)\" }}\r\n            >\r\n                {PIECE_SYMBOLS[p] || \"?\"}\r\n            </div>\r\n        ));\r\n    };\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black flex flex-col\">\r\n            {/* Header */}\r\n            <div className=\"h-14 border-b border-white/5 flex items-center justify-between px-8 bg-black shrink-0\">\r\n                <div className=\"flex items-center gap-4\">\r\n                    <div className={`flex items-center gap-3 px-4 py-2 rounded-full border transition-all ${currentTurn === \"w\" ? \"bg-white/10 border-white/30\" : \"bg-white/5 border-white/10\"}`}>\r\n                        <div className=\"w-2.5 h-2.5 rounded-full bg-white shadow-[0_0_8px_rgba(255,255,255,0.5)]\" />\r\n                        <ModelIcon model={model1} />\r\n                        <span className=\"text-white text-sm font-medium\">{getShortModelName(model1)}</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-6\">\r\n                    <div className=\"text-3xl font-black tracking-tighter\">\r\n                        <span className=\"text-white\">{score1}</span>\r\n                        <span className=\"text-white/20 mx-3\">-</span>\r\n                        <span className=\"text-white\">{score2}</span>\r\n                    </div>\r\n                    <div className=\"text-sm text-white/40 font-mono\">{formatTime(gameTime)}</div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-4\">\r\n                    <div className={`flex items-center gap-3 px-4 py-2 rounded-full border transition-all ${currentTurn === \"b\" ? \"bg-white/10 border-white/30\" : \"bg-white/5 border-white/10\"}`}>\r\n                        <span className=\"text-white text-sm font-medium\">{getShortModelName(model2)}</span>\r\n                        <ModelIcon model={model2} />\r\n                        <div className=\"w-2.5 h-2.5 rounded-full bg-zinc-600\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Main Content */}\r\n            <div className=\"flex-1 grid grid-cols-[300px_1fr_300px] min-h-0 gap-4 p-4\">\r\n                {/* Player 1 Panel + Captured Pieces */}\r\n                <div className=\"flex gap-3\">\r\n                    {/* Thoughts Panel */}\r\n                    <div className=\"flex-1 border border-white/5 rounded-xl flex flex-col overflow-hidden bg-black/50\">\r\n                        <div className=\"p-4 border-b border-white/5\">\r\n                            <div className=\"flex items-center gap-3\">\r\n                                <div className=\"w-8 h-8 rounded-full bg-white flex items-center justify-center\">\r\n                                    <svg className=\"w-4 h-4 text-black\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                                        <circle cx=\"12\" cy=\"8\" r=\"4\" /><path d=\"M12 14c-6 0-8 3-8 6v2h16v-2c0-3-2-6-8-6z\" />\r\n                                    </svg>\r\n                                </div>\r\n                                <div>\r\n                                    <div className=\"text-xs text-white/40 uppercase tracking-widest\">White</div>\r\n                                    <div className=\"text-sm font-medium text-white\">{getShortModelName(model1)}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div ref={scrollRef1} className=\"flex-1 overflow-y-auto p-4 space-y-3 thoughts-scroll\">\r\n                            {thoughts1.map((t, i) => (\r\n                                <div key={i} className=\"p-3 rounded-lg bg-white/[0.02] border border-white/5\">\r\n                                    <div className=\"text-[10px] text-white/30 mb-1\">Move {i + 1}</div>\r\n                                    <p className=\"text-white/60 text-sm leading-relaxed\">{t}</p>\r\n                                </div>\r\n                            ))}\r\n                            {thinkingModel === getShortModelName(model1) && (\r\n                                <div className=\"flex items-center gap-2 text-white/40 px-3\">\r\n                                    <div className=\"flex gap-1\">\r\n                                        <div className=\"w-1.5 h-1.5 bg-white rounded-full thinking-dot\" />\r\n                                        <div className=\"w-1.5 h-1.5 bg-white rounded-full thinking-dot\" />\r\n                                        <div className=\"w-1.5 h-1.5 bg-white rounded-full thinking-dot\" />\r\n                                    </div>\r\n                                    <span className=\"text-xs\">Thinking...</span>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Captured by Black (white pieces lost) */}\r\n                    <div className=\"w-8 flex flex-col items-center gap-1 pt-4\">\r\n                        {renderCapturedPieces(capturedByBlack, true)}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* 3D Board */}\r\n                <div className=\"relative bg-black rounded-xl overflow-hidden border border-white/5\">\r\n                    <Scene3d\r\n                        fen={game.fen()}\r\n                        lastMove={lastMove}\r\n                        whitePieceStyle={whitePieceStyle}\r\n                        currentTurn={currentTurn}\r\n                    />\r\n\r\n                    {/* White Piece Color Toggle */}\r\n                    <div className=\"absolute bottom-4 left-4 flex gap-2\">\r\n                        <button\r\n                            onClick={() => setWhitePieceStyle(\"maple\")}\r\n                            className={`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${whitePieceStyle === \"maple\"\r\n                                ? \"bg-[#E7D9B7] text-black\"\r\n                                : \"bg-white/10 text-white/50 hover:bg-white/20\"\r\n                                }`}\r\n                        >\r\n                            Maple\r\n                        </button>\r\n                        <button\r\n                            onClick={() => setWhitePieceStyle(\"cherry\")}\r\n                            className={`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${whitePieceStyle === \"cherry\"\r\n                                ? \"bg-[#CBB88B] text-black\"\r\n                                : \"bg-white/10 text-white/50 hover:bg-white/20\"\r\n                                }`}\r\n                        >\r\n                            Cherry\r\n                        </button>\r\n                    </div>\r\n\r\n                    {isThinking && (\r\n                        <div className=\"absolute top-4 left-1/2 -translate-x-1/2 px-4 py-2 rounded-full bg-black/80 border border-white/10\">\r\n                            <span className=\"text-xs uppercase tracking-widest text-white/60 flex items-center gap-2\">\r\n                                <div className=\"w-2 h-2 bg-white rounded-full animate-pulse\" />\r\n                                {thinkingModel} thinking...\r\n                            </span>\r\n                        </div>\r\n                    )}\r\n                    {error && (\r\n                        <div className=\"absolute top-4 left-1/2 -translate-x-1/2 bg-red-900/80 px-4 py-2 rounded-full border border-red-700/50\">\r\n                            <span className=\"text-xs text-red-300\">{error}</span>\r\n                        </div>\r\n                    )}\r\n                    {status === \"ended\" && (\r\n                        <div className=\"absolute inset-0 flex items-center justify-center bg-black/90 backdrop-blur-sm z-10\">\r\n                            <div className=\"text-center p-10 rounded-2xl bg-white/5 border border-white/10\">\r\n                                <h2 className=\"text-5xl font-black uppercase tracking-tighter italic mb-4 text-white\">Match Over</h2>\r\n                                <p className=\"text-xl text-white/50 mb-8\">{commentary}</p>\r\n                                <button\r\n                                    onClick={() => window.location.reload()}\r\n                                    className=\"px-8 py-3 rounded-lg bg-white text-black font-bold text-sm uppercase tracking-wider hover:bg-white/90 transition-colors\"\r\n                                >\r\n                                    New Match\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    <div className=\"absolute bottom-4 right-4 px-3 py-1.5 rounded-lg bg-black/60 border border-white/10\">\r\n                        <span className=\"text-xs text-white/40\">Move {moveCount}</span>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Player 2 Panel + Captured Pieces */}\r\n                <div className=\"flex gap-3\">\r\n                    {/* Captured by White (black pieces lost) */}\r\n                    <div className=\"w-8 flex flex-col items-center gap-1 pt-4\">\r\n                        {renderCapturedPieces(capturedByWhite, false)}\r\n                    </div>\r\n\r\n                    {/* Thoughts Panel */}\r\n                    <div className=\"flex-1 border border-white/5 rounded-xl flex flex-col overflow-hidden bg-black/50\">\r\n                        <div className=\"p-4 border-b border-white/5\">\r\n                            <div className=\"flex items-center gap-3 justify-end\">\r\n                                <div>\r\n                                    <div className=\"text-xs text-white/40 uppercase tracking-widest text-right\">Black</div>\r\n                                    <div className=\"text-sm font-medium text-white text-right\">{getShortModelName(model2)}</div>\r\n                                </div>\r\n                                <div className=\"w-8 h-8 rounded-full bg-zinc-800 border border-zinc-700 flex items-center justify-center\">\r\n                                    <svg className=\"w-4 h-4 text-zinc-400\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                                        <circle cx=\"12\" cy=\"8\" r=\"4\" /><path d=\"M12 14c-6 0-8 3-8 6v2h16v-2c0-3-2-6-8-6z\" />\r\n                                    </svg>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div ref={scrollRef2} className=\"flex-1 overflow-y-auto p-4 space-y-3 thoughts-scroll\">\r\n                            {thoughts2.map((t, i) => (\r\n                                <div key={i} className=\"p-3 rounded-lg bg-white/[0.02] border border-white/5\">\r\n                                    <div className=\"text-[10px] text-white/30 mb-1 text-right\">Move {i + 1}</div>\r\n                                    <p className=\"text-white/60 text-sm leading-relaxed text-right\">{t}</p>\r\n                                </div>\r\n                            ))}\r\n                            {thinkingModel === getShortModelName(model2) && (\r\n                                <div className=\"flex items-center justify-end gap-2 text-white/40 px-3\">\r\n                                    <span className=\"text-xs\">Thinking...</span>\r\n                                    <div className=\"flex gap-1\">\r\n                                        <div className=\"w-1.5 h-1.5 bg-zinc-400 rounded-full thinking-dot\" />\r\n                                        <div className=\"w-1.5 h-1.5 bg-zinc-400 rounded-full thinking-dot\" />\r\n                                        <div className=\"w-1.5 h-1.5 bg-zinc-400 rounded-full thinking-dot\" />\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Commentary Footer */}\r\n            <div className=\"h-14 border-t border-white/5 flex items-center justify-center bg-black shrink-0 px-8\">\r\n                <div className=\"max-w-4xl text-center\">\r\n                    <span className=\"text-[9px] text-white/30 uppercase tracking-widest mr-3\">AI Commentary:</span>\r\n                    <span className=\"text-sm text-white/60 italic\">\r\n                        {commentary || \"The battle begins... waiting for the first exchange.\"}\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3049, "column": 0}, "map": {"version":3,"sources":["file:///D:/d%20drive%20downloads/Coding/Ai%20chess/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport ApiKeyEntry from \"@/components/ApiKeyEntry\";\r\nimport ModelSelection from \"@/components/ModelSelection\";\r\nimport MatchBoard from \"@/components/MatchBoard\";\r\n\r\nexport default function Home() {\r\n    const [step, setStep] = useState(0);\r\n    const [apiKeys, setApiKeys] = useState({ groq: \"\", openrouter: \"\" });\r\n    const [models, setModels] = useState({ model1: \"\", model2: \"\" });\r\n\r\n    const handleApiKeysSubmit = (keys: { groq: string; openrouter: string }) => {\r\n        setApiKeys(keys);\r\n        setStep(1);\r\n    };\r\n\r\n    const handleModelsSubmit = (model1: string, model2: string) => {\r\n        setModels({ model1, model2 });\r\n        setStep(2);\r\n    };\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-black text-white\">\r\n            {step === 0 && <ApiKeyEntry onSubmit={handleApiKeysSubmit} />}\r\n            {step === 1 && <ModelSelection apiKeys={apiKeys} onSubmit={handleModelsSubmit} />}\r\n            {step === 2 && (\r\n                <MatchBoard\r\n                    apiKeys={apiKeys}\r\n                    model1={models.model1}\r\n                    model2={models.model2}\r\n                />\r\n            )}\r\n        </main>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACpB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,8NAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,8NAAQ,EAAC;QAAE,MAAM;QAAI,YAAY;IAAG;IAClE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,8NAAQ,EAAC;QAAE,QAAQ;QAAI,QAAQ;IAAG;IAE9D,MAAM,sBAAsB,CAAC;QACzB,WAAW;QACX,QAAQ;IACZ;IAEA,MAAM,qBAAqB,CAAC,QAAgB;QACxC,UAAU;YAAE;YAAQ;QAAO;QAC3B,QAAQ;IACZ;IAEA,qBACI,2PAAC;QAAK,WAAU;;YACX,SAAS,mBAAK,2PAAC,kJAAW;gBAAC,UAAU;;;;;;YACrC,SAAS,mBAAK,2PAAC,qJAAc;gBAAC,SAAS;gBAAS,UAAU;;;;;;YAC1D,SAAS,mBACN,2PAAC,iJAAU;gBACP,SAAS;gBACT,QAAQ,OAAO,MAAM;gBACrB,QAAQ,OAAO,MAAM;;;;;;;;;;;;AAKzC"}}]
}